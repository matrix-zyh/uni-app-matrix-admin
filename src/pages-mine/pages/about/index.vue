<template>
  <view>
    <u-navbar
      :title="headerTitle"
      :background="background"
      title-color="#fff"
      back-icon-color="#fff"
    />

    <view class="margin-xl bg-white padding-xl radius shadow-lg">
      <view class="text-center text-lg text-grey">
        <u-avatar :src="useUser.avatar" mode="square" show-sex size="240" />
      </view>
      <view class="text-center margin-bottom-xl text-lg text-grey margin-top-sm"
        >UniApp Matrix Admin</view
      >
      <view class="text-content">
        <view>Hiï¼æ‚¨å¥½ï¼Œå¼€å‘è€…ï½ æ¬¢è¿ä½¿ç”¨ UniApp Matrix Admin ç§»åŠ¨ç«¯è·¨å¹³å°æ¨¡æ¿ï¼</view>
        <view class="margin-top-sm"
          >è¯¥æ¨¡ç‰ˆä¸º
          <u-tag text="UniApp Matrix Admin" mode="light" size="mini" class="margin-lr-xs" />
          ç²¾ç®€ç‰ˆï¼Œæ‚¨å¯ç›´æ¥ç”¨äºå¼€å‘ï¼Œè‹¥æ‚¨æƒ³è¦æŸ¥çœ‹å®Œæ•´ç‰ˆï¼Œè¯·è®¿é—®
          <u-tag
            text="Github"
            mode="light"
            size="mini"
            class="margin-lr-xs"
            @click="copyAdminLink('Github')"
          />
          æˆ–è€…
          <u-tag
            text="Gitee"
            mode="light"
            size="mini"
            class="margin-lr-xs"
            @click="copyAdminLink('Gitee')"
          />è¿›è¡ŒæŸ¥çœ‹ã€‚</view
        >
        <view class="margin-top-sm"
          >è¯¥é¡¹ç›®çš„æ„å›¾ï¼Œæ˜¯å¸Œæœ›å¯ä»¥è®©å¼€å‘è€…ï¼Œèƒ½å¤Ÿå¿«é€Ÿçš„è¿›è¡Œå¼€å‘ï¼Œç”Ÿäº§ã€‚å¸Œæœ›èƒ½å¤ŸçœŸæ­£çš„åšåˆ°å¼€ç®±å³ç”¨ï¼ŒèŠ‚çº¦æ­å»ºé¡¹ç›®çš„æˆæœ¬ï¼Œæ—¶é—´çš„æˆæœ¬ï¼Œæ¯•ç«Ÿæ—¶é—´å°±æ˜¯é‡‘é’±ã€‚</view
        >
        <view class="margin-top-sm"
          >è¯¥é¡¹ç›®æ˜¯å®Œå…¨å¼€æºçš„ï¼Œä¸æ”¶å–ä»»ä½•è´¹ç”¨ï¼Œå¸Œæœ›ä¸ºå¼€æºç¤¾åŒºè´¡çŒ®è‡ªå·±çš„ä¸€ä»½åŠªåŠ›ã€‚å¦‚æœè¿™ä¸ªé¡¹ç›®æœ‰å¸®åˆ°æ‚¨ï¼Œæˆ–è€…æ‚¨è§‰å¾—å¾ˆ
          ğŸ‰ ï¼æ‚¨å¯ä»¥åœ¨
          <u-tag
            text="Github"
            mode="light"
            size="mini"
            class="margin-lr-xs"
            @click="copyLiteLink('Github')"
          />
          æˆ–è€…
          <u-tag
            text="Gitee"
            mode="light"
            size="mini"
            class="margin-lr-xs"
            @click="copyLiteLink('Gitee')"
          />
          ä¸­è¯·ä½œè€…å–æ¯å’–å•¡ï¼Œäº¤ä¸ªæœ‹å‹ã€‚ğŸ™ˆ</view
        >
      </view>
    </view>
  </view>
</template>

<script>
  import { mapGetters } from 'vuex'

  export default {
    data() {
      return {
        // æ ‡é¢˜
        headerTitle: '',
        // è‡ªå®šä¹‰ navBar å¯¼èˆªæ ·å¼
        background: {
          'background-image': 'linear-gradient(45deg, rgb(90, 132, 244), rgb(137,111,236))'
        }
      }
    },
    computed: {
      ...mapGetters('user', ['useUser'])
    },
    onLoad() {
      this.headerTitle = this.$Route.meta.title
    },
    methods: {
      /**
       * Admin æ¼”ç¤ºç‰ˆåœ°å€
       * @param {String} origin é•œåƒæº
       * @author Matrix<matrix.zyh@gmail.com>
       */
      copyAdminLink(origin) {
        const link =
          origin === 'Github'
            ? 'https://github.com/matrix-zyh/uni-app-matrix-admin'
            : 'https://gitee.com/matrix-zyh/uni-app-matrix-admin'
        uni.setClipboardData({
          data: link,
          success: function () {
            uni.$u.toast(`${origin} åœ°å€å·²å¤åˆ¶ï¼`, 1000)
          }
        })
      },

      /**
       * Admin ç²¾ç®€ç‰ˆåœ°å€
       * @param {String} origin é•œåƒæº
       * @author Matrix<matrix.zyh@gmail.com>
       */
      copyLiteLink(origin) {
        const link =
          origin === 'Github'
            ? 'https://github.com/matrix-zyh/uni-app-admin-lite'
            : 'https://gitee.com/matrix-zyh/uni-app-admin-lite'
        uni.setClipboardData({
          data: link,
          success: function () {
            uni.$u.toast(`${origin} åœ°å€å·²å¤åˆ¶ï¼`, 1000)
          }
        })
      }
    }
  }
</script>
